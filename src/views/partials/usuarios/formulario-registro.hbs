<article
  class="d-flex justify-content-center align-items-center vh-100 bg-light"
>
  <div class="text-center">
    <h1 class="display-4 mb-4">Registro</h1>
    <form action="/registro" method="POST" class="mb-4" id="registro-form">
      <div class="mb-3">
        <label for="name" class="form-label">Nombre:</label>
        <input
          type="text"
          class="form-control"
          id="name"
          name="name"
          placeholder="Tu nombre"
          required
        />
      </div>
      <div class="mb-3">
        <label for="email" class="form-label">Email:</label>
        <input
          type="email"
          class="form-control"
          id="email"
          name="email"
          placeholder="ejemplo@correo.com"
          required
        />
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">Contraseña:</label>
        <input
          type="password"
          class="form-control"
          id="password"
          name="password"
          placeholder="Tu contraseña"
          required
        />
      </div>
      <div class="mb-3">
        <label for="confirm-password" class="form-label">Confirmar Contraseña:</label>
        <input
          type="password"
          class="form-control"
          id="confirm-password"
          name="confirm-password"
          placeholder="Confirma tu contraseña"
          required
        />
      </div>
      <button
        type="button"
        onclick="validatePassword()"
        class="btn btn-outline-dark btn-lg"
        id="submit-button"
      >Registrarse</button>
    </form>
    <div class="mt-3">
      <a href="/login" class="text-dark">¿Ya tienes cuenta? Inicia sesión</a>
    </div>
  </div>
</article>

<script>
  function validatePassword() { 
    const REGEX_PASSWORD = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;
    const $passwordInput = document.querySelector('#password');
    const $confirmPasswordInput = document.querySelector('#confirm-password');
    const $registroForm = document.querySelector('#registro-form');

    if ($passwordInput.value !== $confirmPasswordInput.value) {
      alert('Las contraseñas no coinciden.');
    } else if (!REGEX_PASSWORD.test($passwordInput.value)) {
      alert('La contraseña no cumple con los requisitos de seguridad.');
    } else {
      $registroForm.submit(); 
    }
  }
</script>

